<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Blog · React4j</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Blog · React4j"/><meta property="og:type" content="website"/><meta property="og:url" content="https://react4j.github.io/index.html"/><meta property="og:description" content="An opinionated java react binding"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/idea.min.css"/><link rel="alternate" type="application/atom+xml" href="https://react4j.github.io/blog/atom.xml" title="React4j Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://react4j.github.io/blog/feed.xml" title="React4j Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg"/><h2 class="headerTitle">React4j</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/overview.html" target="_self">Docs</a></li><li><a href="/api" target="_self">API</a></li><li><a href="/blog" target="_self">Blog</a></li><li><a href="https://github.com/react4j/react4j/releases" target="_blank">Releases</a></li><li><a href="https://github.com/react4j/react4j" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Recent Posts</h3><ul><li class="navListItem"><a class="navItem" href="/blog/2019/01/18/version-0.112-release.html">React4j 0.112 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/01/17/version-0.111-release.html">React4j 0.111 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/01/16/version-0.110-release.html">React4j 0.110 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/01/16/version-0.109-release.html">React4j 0.109 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/11/22/version-0.108-release.html">React4j 0.108 released</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer blogContainer"><div class="wrapper"><div class="posts"><div class="post"><header class="postHeader"><h1><a href="/blog/2018/10/16/version-0.102-release.html">React4j 0.102 released</a></h1><p class="post-meta">October 16, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.101...v0.102">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[core]</strong> Remove the <code>@State</code> annotation. This is the first step to removing the infrastructure to
support the traditional react state model.</li>
<li><strong>[core]</strong> Replace the compile time constant <code>react4j.arez.store_arez_data_as_state</code> with
<code>react4j.store_debug_data_as_state</code>, expose it via <code>ReactConfig.shouldStoreDebugDataAsState()</code> and move
the configuration property to the <code>[core]</code> module.</li>
<li><strong>[arez]</strong> Remove the empty lifecycle methods in the <code>ReactArezComponent</code> class and enhance the annotation
processor so that they are no longer needed to store arez details as debug data.</li>
<li><strong>[core]</strong> Move the capability to store arbitrary debug data as react component state into the
<code>react4j.Component</code> class from the <code>react4j.arez.ReactArezComponent</code> class.</li>
<li><strong>[core]</strong> Remove the <code>nextState</code> parameter from <code>Component.shouldComponentUpdate(...)</code> and
<code>Component.componentDidUpdate(...)</code> as it is no longer used now that individual components do not manage
state.</li>
<li>Compile with <code>-parameters</code> passed to javac so that debug information includes parameter names. This will
result in the annotation processor generating methods using real parameter names rather than synthesized
parameter names (such as <code>arg0</code>) in java version 9+.</li>
<li><strong>[processor]</strong> Optimize the code generated for detecting changes in props annotated with
<code>@Prop(shouldUpdateOnChange=true)</code> but not <code>@Prop(observable=false)</code> by immediately returning <code>true</code> when
a change is detected and avoiding comparing any further props that may exist.</li>
<li><strong>[core]</strong> Add support for the <code>shouldUpdateOnChange</code> parameter on the <code>@Prop</code> annotation for non-arez
subclasses. This involved moving functionality from <code>ReactArezComponent</code> back to <code>arez.Component</code> class,
marking the <code>shouldUpdateOnChange()</code> as package-access and final and updating the annotation processor to
generate the native glue code only if there is any logic generated to support <code>shouldUpdateOnChange</code>.</li>
<li><strong>[core]</strong> Make the methods <code>Component.performComponentDidUpdate(...)</code> and <code>Component.performComponentDidMount()</code>
final and package access as no longer any need to allow middleware to customize these methods.</li>
<li><strong>[core]</strong> Remove the mechanisms by which component authors can update react state.</li>
<li><strong>[core]</strong> Fix a bug where methods annotated with <code>@Prop(observable=true)</code> that return a primitive
value would always force a re-render of the component even if the value is the same.</li>
<li><strong>[core]</strong> Remove the <code>arez.Procedure</code> interface as it is no longer used.</li>
<li><strong>[core]</strong> Reduce the access level of <code>ReactConfig.checkComponentStateInvariants()</code> to package access as
not intended to be used outside the package.</li>
<li><strong>[core]</strong> Remove the unused method <code>ReactConfig.isProductionMode()</code> and the associated compile time
constant <code>react4j.environment</code>.</li>
<li><strong>[core]</strong> Remove the <code>force</code> parameter from the method <code>Component.scheduleRender()</code> as every render
triggered through this mechanism is expected to explicitly render the component.</li>
<li><strong>[processor]</strong> Remove the <code>@Action</code> annotation from the generated <code>shouldUpdateOnPropChanges</code>
method as it is unnecessary and increases codesize and decreases runtime performance.</li>
<li><strong>[processor]</strong> Eliminate numerous null checks when implementing <code>Component.shouldUpdateOnPropChanges()</code>
using the annotation processor by moving the null check into the caller. This resulted in a significant
decrease in code-size and a slight performance improvement.</li>
<li><strong>[core]</strong> Remove the <code>prevProps</code> parameter from the method <code>Component.componentDidUpdate()</code> as component
writers can not safely use parameter and are expected to make use of annotation processor features instead.</li>
<li><strong>[core]</strong> Introduce the <code>@OnPropChanged</code> annotation that can be applied to methods that will be invoked
in the <code>Component.componentDidUpdate()</code> lifecycle stage when a prop has actually changed.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/10/09/version-0.101-release.html">React4j 0.101 released</a></h1><p class="post-meta">October 9, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.100...v0.101">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[processor]</strong> Fix a bug where primitive types that had a <code>@Nonnull</code> annotation were being
incorrectly boxed as <code>Objects.requireNonNull(...)</code> was invoked on the value before being passed
to prop setter. This resulted in the value being boxed prior to reaching the <code>@DoNotAutobox</code> method.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/10/08/version-0.100-release.html">React4j 0.100 released</a></h1><p class="post-meta">October 8, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.99...v0.100">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[arez]</strong> Update the <code>org.realityforge.arez</code> dependencies to version <code>0.109</code>.</li>
<li><strong>[dom]</strong> Introduce a functional interface <code>react.dom.ReactDOM.RenderCallbackFn</code> to replace the use of
<code>react.Procedure</code> as the type of the callback in the top-level rendering methods.</li>
<li><strong>[dom]</strong> Introduce a functional interface <code>react.dom.ReactDOM.BatchedUpdatesFn</code> to replace the use of
<code>react.Procedure</code> as the type of the callback for the <code>ReactDOM.batchedUpdates(BatchedUpdatesFn)</code> methods.</li>
<li><strong>[dom]</strong> Introduce several more utility methods to the dom factory class that accepts primitive values
as content.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/10/05/version-0.99-release.html">React4j 0.99 released</a></h1><p class="post-meta">October 5, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.98...v0.99">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[processor]</strong> Generate a compile time error if a <code>@Prop</code> annotated method returns a boxed primitive and
is annotated with <code>@Nonnull</code> annotation. The code should just use the primitive type.</li>
<li><strong>[processor]</strong> Generate a compile error if a component that does not extend <code>ReactArezComponent</code> has a field
annotated with an arez annotation.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/10/04/version-0.98-release.html">React4j 0.98 released</a></h1><p class="post-meta">October 4, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.97...v0.98">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[arez]</strong> Fixed a bug in <code>ReactArezComponent</code> that could cause <code>react.js</code> to generate an error message
indicating <code>setState()</code> or <code>forceRender()</code> was invoked from within the <code>render()</code> method of a component.
This could occur where an event handler caused a change that resulted in a component re-rendering and ceasing
to observe a component with <code>disposeOnDeactivate</code> set to <code>true</code>. The component would then dispose, potentially
triggering changes and triggering re-rendering other components (via <code>setState()</code> or <code>forceRender()</code> ) from
within the <code>render()</code> of the react component that un-observed the arez components. The fix was to pause the
arez scheduler and re-enable it in a microtask following the render.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/10/02/version-0.97-release.html">React4j 0.97 released</a></h1><p class="post-meta">October 2, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.96...v0.97">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li>Update the javascript included within package to react version <code>16.5.2</code>.</li>
<li><strong>[arez]</strong> Make the <code>ReactArezConfig</code> class public to make the compile time constants accessible by
generated component classes.</li>
<li><strong>[arez]</strong> Change the way subclasses of <code>ReactArezComponent</code> are generated. If a <code>ReactArezComponent</code> does
not override <code>componentDidMount()</code> or does not override <code>componentDidUpdate()</code> then generate a <code>LiteLifecycle</code>
and a <code>LiteNativeReactComponent</code> along with the normal <code>Lifecycle</code> and <code>NativeReactComponent</code>. If the compile
time setting <code>ReactArezConfig.shouldStoreArezDataAsState()</code> returns <code>false</code> then use <code>LiteNativeReactComponent</code>
when constructing the components. This improves dead code elimination in both the GWT and J2CL toolchain as
the <code>componentDidMount()</code> and/or <code>componentDidUpdate()</code> methods need not be generated and empty and can instead
just be removed by the compiler. This also has a positive impact on runtime performance.</li>
<li><strong>[processor]</strong> Generate a compile time error if the return type of a method annotated with <code>@Prop</code> is a type
variable that was declared on the method.</li>
<li><strong>[processor]</strong> Add a mechanism for minimizing prop names in generated component class to reduce code size.
A <code>@JsType</code> annotated <code>Props</code> class does not work in J2CL as the closure compiler would need to be told about
the keys as part of externs so that the <code>Object</code> type is correctly typed. This would stop the names being
renamed. Manually minimizing the keys based on a compile time constant <code>react4j.minimize_prop_keys</code> will work
around this limitation and make sure the optimization is available in both GWT2 and J2CL builds.</li>
<li><strong>[core]</strong> Add the <code>observable</code> parameter to the <code>@Prop</code> annotation. This will control whether a prop is
modelled as an Arez observable. This change fixes a bug where not all prop changes were detected and reported.
The default value is to <code>AUTODETECT</code> which eliminates observation unless the annotation processor detects that
it may be needed (i.e. the prop must be on subclasses of <code>ReactArezComponent</code> and the component must declare
methods annotated with <code>@Computed</code>, <code>@Memoize</code> or <code>@Observed</code>). This reduces output code size in scenarios where
observable props are not needed.</li>
<li><strong>[core]</strong> Add the <code>@PropValidate</code> annotation to identify method that must be called when the value of a prop
is initially specified or changed. This method is expected to generate an invariant failure if an invalid prop
is passed to the component and will optimized out if <code>ReactConfig.shouldValidatePropValues()</code> returns <code>false</code>
which is the default for production builds. The framework will test the type and nullness of props even if there
is no <code>@PropValidate</code> for prop.</li>
<li><strong>[processor]</strong> If the element annotated by the <code>@PropDefault</code> annotation is not accessible in the package that
has the type annotated with <code>@ReactComponent</code> then generate a descriptive compile error.</li>
<li><strong>[processor]</strong> Generate a compile error if the method annotated by <code>@Prop</code> is public.</li>
<li><strong>[arez]</strong> Update the <code>org.realityforge.arez</code> dependencies to version <code>0.108</code>.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/09/21/version-0.96-release.html">React4j 0.96 released</a></h1><p class="post-meta">September 21, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.95...v0.96">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li>Update the javascript included within package to react version <code>16.5.1</code>.</li>
<li><strong>[arez]</strong> Update the <code>org.realityforge.arez</code> dependencies to version <code>0.107</code>.</li>
<li><strong>[arez]</strong> The values of computed and observable properties were not being updated under arez state key
when they were being changed resulting in incorrect values being presented in DevTools inspector and
profiler. This has been fixed.</li>
<li><strong>[arez]</strong> Subclasses of <code>ReactArezComponent</code> are no longer able to store values in reacts native state,
thus there is no need to namespace the dependency state under a key named <code>arez</code> so remove the key and add
dependency data directly into state object.</li>
<li><strong>[arez]</strong> The method <code>ReactArezConfig.shouldStoreArezDataAsState()</code> should never return true if
<code>Arez.areSpiesEnabled()</code> returns false as the Arez spy system is used to extract and store arez state. The
<code>shouldStoreArezDataAsState()</code> method has been adapted to incorporate this condition and this guard has been
removed from other locations where it is no longer required.</li>
<li><strong>[arez]</strong> Unwrap boxed values and convert enums into strings when emitting arez property values in the
react state.</li>
<li><strong>[arez]</strong> If a dependency was removed from a component and <code>ReactArezConfig.shouldStoreArezDataAsState()</code>
returns true then <code>ReactArezComponent</code> could result in an infinite loop trying to converge state as reacts
<code>setState</code> merges new state and will not replace state. This has been fixed by setting the value of the keys
to <code>undefined</code> value.</li>
<li><strong>[arez]</strong> Expose the id and name of the react component according to arez as state values under the
<code>Arez.id</code> and <code>Arez.name</code> keys when <code>ReactArezConfig.shouldStoreArezDataAsState()</code> returns true.</li>
<li><strong>[core]</strong> Introduce several methods that wrap around the component lifecycle method so frameworks can
customize particular lifecycle steps to provide custom behaviour. This was already possible with specific
lifecycle steps but support for customization has been added to the lifecycle methods <code>componentDidMount()</code>,
<code>componentDidUpdate()</code>, <code>componentDidCatch()</code> and <code>shouldComponentUpdate(...)</code>.</li>
<li><strong>[arez]</strong> Rework <code>ReactArezComponent</code> so that it overrides the <code>performComponentDidMount()</code> method and the
<code>performComponentDidUpdate()</code> method to store Arez dependencies in react state when
<code>ReactArezConfig.shouldStoreArezDataAsState()</code> returns <code>true</code>. This means that sub-classes no longer need to
call the <code>super.componentDidMount()</code> method or the <code>super.componentDidUpdate()</code> method if the component overrides
the <code>componentDidMount()</code> method or the <code>componentDidUpdate()</code> method.</li>
<li><strong>[arez]</strong> Avoid comparisons of state in <code>ReactArezComponent.shouldComponentUpdate()</code> as state is unused in arez
based react components and <code>ReactArezComponent.scheduleArezKeyUpdate()</code> has been updated for forcefully schedule
a render which skips <code>ReactArezComponent.shouldComponentUpdate()</code> lifecycle step.</li>
<li><strong>[dom]</strong> Add missing &quot;bottom&quot; property to <code>react4j.dom.proptypes.html.CssProps</code>.</li>
<li><strong>[arez]</strong> Specially handle <code>java.util.stream.Stream</code> values when emitting them as values in component state
for DevTools by converting them to string constants. This vastly improves the readability in the DevTools.</li>
<li><strong>[arez]</strong> Add mechanisms for customizing values emitted in state for DevTools by adding a template method
named <code>ReactArezComponent.renderValueAsState(ObservableValueInfo,Object)</code>.</li>
<li><strong>[arez]</strong> Add guard to avoid infinite recursion as a result storing dependencies in react state causing a
re-render.</li>
<li><strong>[processor]</strong> Generate a compile error if methods annotated with <code>@Callback</code> have a public access modifier
unless the method is defined as a default method on an interface.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/09/06/version-0.95-release.html">React4j 0.95 released</a></h1><p class="post-meta">September 6, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.94...v0.95">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[arez]</strong> Restructure spy code to prepare for Arez version <code>0.107</code>.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/08/31/version-0.94-release.html">React4j 0.94 released</a></h1><p class="post-meta">August 31, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.93...v0.94">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[arez]</strong> Update the <code>org.realityforge.arez</code> dependencies to version <code>0.106</code>.</li>
<li><strong>[processor]</strong> Add support for the <code>arezOnlyDependencies</code> parameter on the <code>arez.annotations.Computed</code>
annotation.</li>
<li><strong>[arez]</strong> Migrate the classes from the <code>react4j.arez.spy</code> package to the
<code>org.realityforge.arez.spytools:arez-spytools:jar:0.30</code> artifact.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/blog/2018/08/23/version-0.93-release.html">React4j 0.93 released</a></h1><p class="post-meta">August 23, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/react4j" target="_blank">React4j Project</a></p></div></header><article class="post-content"><div><span><p><a href="https://github.com/react4j/react4j/compare/v0.92...v0.93">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[arez]</strong> Update the <code>org.realityforge.arez</code> dependencies to version <code>0.105</code>.</li>
<li><strong>[arez]</strong> Update the <code>org.realityforge.arez.spytools</code> dependency to version <code>0.29</code>.</li>
<li><strong>[processor]</strong> Avoid overriding methods annotated with <code>@Memoize</code> or <code>@Computed</code> to lower priorities if
the method is private as private methods are not valid in this scenario. The Arez annotation processor will
detect this scenario and generate an error and will report the error on the original method if the react4j
annotation processor does not override the method.</li>
<li><strong>[core]</strong> Change the method <code>ReactNode.of(long)</code> as boxed primitives can not be processed by <code>react.js</code>
and you can not safely convert a <code>long</code> value to a javascript <code>number</code> value. The method instead converts the
long value to a string before passing the value to react.</li>
<li><strong>[core]</strong> Change the implementation of the <code>ReactNode.of(...)</code> methods that have a primitive parameter
type other than long so that they are not boxed prior to being passed to react.</li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev" href="/blog/">← Prev</a><a class="docs-next" href="/blog/page3/">Next →</a></div></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="React4j" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/overview.html">Overview</a><a href="/api/index.html">API Reference</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/react4j/react4j" data-icon="octicon-star" data-count-href="/react4j/react4j/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 the React4j Project.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: 'bcbf32ec3754c54aadb410fd32ca236b',
                indexName: 'react4j',
                inputSelector: '#search_input_react'
              });
            </script></body></html>